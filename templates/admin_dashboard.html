{% extends "base.html" %}
{% block content %}
<h2 class="mb-4">Admin Dashboard</h2>

<!-- ✅ Tabs Navigation -->
<ul class="nav nav-tabs mb-4" id="adminTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="providers-tab" data-bs-toggle="tab" data-bs-target="#providers" type="button" role="tab">Providers</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="services-tab" data-bs-toggle="tab" data-bs-target="#services" type="button" role="tab">Active Services</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="customers-tab" data-bs-toggle="tab" data-bs-target="#customers" type="button" role="tab">Customers</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="bookings-tab" data-bs-toggle="tab" data-bs-target="#bookings" type="button" role="tab">Bookings</button>
    </li>
</ul>

<div class="tab-content" id="adminTabsContent">

    <!-- ✅ Providers Tab -->
    <div class="tab-pane fade show active" id="providers" role="tabpanel">
        <h4>All Service Providers</h4>
        <div class="table-responsive">
            <table class="table table-striped table-bordered shadow">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in providers %}
                    <tr>
                        <td>{{ user.id }}</td>
                        <td>{{ user.username }}</td>
                        <td>{{ user.email }}</td>
                        <td>{{ user.location or "N/A" }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- ✅ Active Services Tab -->
    <div class="tab-pane fade" id="services" role="tabpanel">
        <h4>All Active Services</h4>
        <div class="table-responsive">
            <table class="table table-bordered table-hover shadow-sm">
                <thead class="table-primary">
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Provider ID</th>
                        <th>Price</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody>
                    {% for s in active_services %}
                    <tr>
                        <td>{{ s.id }}</td>
                        <td>{{ s.name }}</td>
                        <td>{{ s.provider_id }}</td>
                        <td>₹{{ s.price }}</td>
                        <td>{{ s.location }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- ✅ Customers Tab -->
    <div class="tab-pane fade" id="customers" role="tabpanel">
        <h4>All Customers</h4>
        <div class="table-responsive">
            <table class="table table-striped table-bordered shadow">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody>
                    {% for c in customers %}
                    <tr>
                        <td>{{ c.id }}</td>
                        <td>{{ c.username }}</td>
                        <td>{{ c.email }}</td>
                        <td>{{ c.location or "N/A" }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- ✅ Bookings Tab -->
    <div class="tab-pane fade" id="bookings" role="tabpanel">
        <h4>All Bookings</h4>
        <div class="table-responsive">
            <table class="table table-bordered table-hover shadow-sm">
                <thead class="table-primary">
                    <tr>
                        <th>ID</th>
                        <th>Customer ID</th>
                        <th>Provider ID</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for b in bookings %}
                    <tr>
                        <td>{{ b.id }}</td>
                        <td>{{ b.customer_id }}</td>
                        <td>{{ b.provider_id }}</td>
                        <td>{{ b.status }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

</div>
{% endblock %}
